window.idom_dash=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(e,t){e.exports=window.React},function(e,t,r){"use strict";var n={};r.r(n),r.d(n,"JsonPatchError",(function(){return m})),r.d(n,"deepClone",(function(){return y})),r.d(n,"getValueByPointer",(function(){return O})),r.d(n,"applyOperation",(function(){return w})),r.d(n,"applyPatch",(function(){return P})),r.d(n,"applyReducer",(function(){return b})),r.d(n,"validator",(function(){return A})),r.d(n,"validate",(function(){return D})),r.d(n,"_areEquals",(function(){return g}));var o={};r.r(o),r.d(o,"unobserve",(function(){return C})),r.d(o,"observe",(function(){return R})),r.d(o,"generate",(function(){return L})),r.d(o,"compare",(function(){return K}));
/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017 Joachim Wester
 * MIT license
 */
var a,i=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),u=Object.prototype.hasOwnProperty;function c(e,t){return u.call(e,t)}function _(e){if(Array.isArray(e)){for(var t=new Array(e.length),r=0;r<t.length;r++)t[r]=""+r;return t}if(Object.keys)return Object.keys(e);t=[];for(var n in e)c(e,n)&&t.push(n);return t}function s(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function p(e){for(var t,r=0,n=e.length;r<n;){if(!((t=e.charCodeAt(r))>=48&&t<=57))return!1;r++}return!0}function l(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function f(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function d(e,t){var r=[e];for(var n in t){var o="object"==typeof t[n]?JSON.stringify(t[n],null,2):t[n];void 0!==o&&r.push(n+": "+o)}return r.join("\n")}var h=function(e){function t(t,r,n,o,a){var i=this.constructor,u=e.call(this,d(t,{name:r,index:n,operation:o,tree:a}))||this;return u.name=r,u.index=n,u.operation=o,u.tree=a,Object.setPrototypeOf(u,i.prototype),u.message=d(t,{name:r,index:n,operation:o,tree:a}),u}return i(t,e),t}(Error),m=h,y=s,v={add:function(e,t,r){return e[t]=this.value,{newDocument:r}},remove:function(e,t,r){var n=e[t];return delete e[t],{newDocument:r,removed:n}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:function(e,t,r){var n=O(r,this.path);n&&(n=s(n));var o=w(r,{op:"remove",path:this.from}).removed;return w(r,{op:"add",path:this.path,value:o}),{newDocument:r,removed:n}},copy:function(e,t,r){var n=O(r,this.from);return w(r,{op:"add",path:this.path,value:s(n)}),{newDocument:r}},test:function(e,t,r){return{newDocument:r,test:g(e[t],this.value)}},_get:function(e,t,r){return this.value=e[t],{newDocument:r}}},E={add:function(e,t,r){return p(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:r,index:t}},remove:function(e,t,r){return{newDocument:r,removed:e.splice(t,1)[0]}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:v.move,copy:v.copy,test:v.test,_get:v._get};function O(e,t){if(""==t)return e;var r={op:"_get",path:t};return w(e,r),r.value}function w(e,t,r,n,o,a){if(void 0===r&&(r=!1),void 0===n&&(n=!0),void 0===o&&(o=!0),void 0===a&&(a=0),r&&("function"==typeof r?r(t,0,e,t.path):A(t,0)),""===t.path){var i={newDocument:e};if("add"===t.op)return i.newDocument=t.value,i;if("replace"===t.op)return i.newDocument=t.value,i.removed=e,i;if("move"===t.op||"copy"===t.op)return i.newDocument=O(e,t.from),"move"===t.op&&(i.removed=e),i;if("test"===t.op){if(i.test=g(e,t.value),!1===i.test)throw new m("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return i.newDocument=e,i}if("remove"===t.op)return i.removed=e,i.newDocument=null,i;if("_get"===t.op)return t.value=e,i;if(r)throw new m("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,t,e);return i}n||(e=s(e));var u=(t.path||"").split("/"),c=e,_=1,l=u.length,d=void 0,h=void 0,y=void 0;for(y="function"==typeof r?r:A;;){if(h=u[_],o&&"__proto__"==h)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&void 0===d&&(void 0===c[h]?d=u.slice(0,_).join("/"):_==l-1&&(d=t.path),void 0!==d&&y(t,0,e,d)),_++,Array.isArray(c)){if("-"===h)h=c.length;else{if(r&&!p(h))throw new m("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,t,e);p(h)&&(h=~~h)}if(_>=l){if(r&&"add"===t.op&&h>c.length)throw new m("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,t,e);if(!1===(i=E[t.op].call(t,c,h,e)).test)throw new m("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return i}}else if(h&&-1!=h.indexOf("~")&&(h=f(h)),_>=l){if(!1===(i=v[t.op].call(t,c,h,e)).test)throw new m("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return i}c=c[h]}}function P(e,t,r,n,o){if(void 0===n&&(n=!0),void 0===o&&(o=!0),r&&!Array.isArray(t))throw new m("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(e=s(e));for(var a=new Array(t.length),i=0,u=t.length;i<u;i++)a[i]=w(e,t[i],r,!0,o,i),e=a[i].newDocument;return a.newDocument=e,a}function b(e,t,r){var n=w(e,t);if(!1===n.test)throw new m("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return n.newDocument}function A(e,t,r,n){if("object"!=typeof e||null===e||Array.isArray(e))throw new m("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,r);if(!v[e.op])throw new m("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,r);if("string"!=typeof e.path)throw new m("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,r);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new m('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,r);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new m("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,r);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new m("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,r);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&function e(t){if(void 0===t)return!0;if(t)if(Array.isArray(t)){for(var r=0,n=t.length;r<n;r++)if(e(t[r]))return!0}else if("object"==typeof t){var o=_(t),a=o.length;for(r=0;r<a;r++)if(e(t[o[r]]))return!0}return!1}(e.value))throw new m("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,r);if(r)if("add"==e.op){var o=e.path.split("/").length,a=n.split("/").length;if(o!==a+1&&o!==a)throw new m("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,r)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==n)throw new m("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,r)}else if("move"===e.op||"copy"===e.op){var i=D([{op:"_get",path:e.from,value:void 0}],r);if(i&&"OPERATION_PATH_UNRESOLVABLE"===i.name)throw new m("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,r)}}function D(e,t,r){try{if(!Array.isArray(e))throw new m("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)P(s(t),s(e),r||!0);else{r=r||A;for(var n=0;n<e.length;n++)r(e[n],n,t,void 0)}}catch(e){if(e instanceof m)return e;throw e}}function g(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var r,n,o,a=Array.isArray(e),i=Array.isArray(t);if(a&&i){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(!g(e[r],t[r]))return!1;return!0}if(a!=i)return!1;var u=Object.keys(e);if((n=u.length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!t.hasOwnProperty(u[r]))return!1;for(r=n;0!=r--;)if(!g(e[o=u[r]],t[o]))return!1;return!0}return e!=e&&t!=t}
/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017 Joachim Wester
 * MIT license
 */
var T=new WeakMap,I=function(e){this.observers=new Map,this.obj=e},M=function(e,t){this.callback=e,this.observer=t};function C(e,t){t.unobserve()}function R(e,t){var r,n=function(e){return T.get(e)}(e);if(n){var o=function(e,t){return e.observers.get(t)}(n,t);r=o&&o.observer}else n=new I(e),T.set(e,n);if(r)return r;if(r={},n.value=s(e),t){r.callback=t,r.next=null;var a=function(){L(r)},i=function(){clearTimeout(r.next),r.next=setTimeout(a)};"undefined"!=typeof window&&(window.addEventListener("mouseup",i),window.addEventListener("keyup",i),window.addEventListener("mousedown",i),window.addEventListener("keydown",i),window.addEventListener("change",i))}return r.patches=[],r.object=e,r.unobserve=function(){L(r),clearTimeout(r.next),function(e,t){e.observers.delete(t.callback)}(n,r),"undefined"!=typeof window&&(window.removeEventListener("mouseup",i),window.removeEventListener("keyup",i),window.removeEventListener("mousedown",i),window.removeEventListener("keydown",i),window.removeEventListener("change",i))},n.observers.set(t,new M(t,r)),r}function L(e,t){void 0===t&&(t=!1);var r=T.get(e.object);U(r.value,e.object,e.patches,"",t),e.patches.length&&P(r.value,e.patches);var n=e.patches;return n.length>0&&(e.patches=[],e.callback&&e.callback(n)),n}function U(e,t,r,n,o){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var a=_(t),i=_(e),u=!1,p=i.length-1;p>=0;p--){var f=e[h=i[p]];if(!c(t,h)||void 0===t[h]&&void 0!==f&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(o&&r.push({op:"test",path:n+"/"+l(h),value:s(f)}),r.push({op:"remove",path:n+"/"+l(h)}),u=!0):(o&&r.push({op:"test",path:n,value:e}),r.push({op:"replace",path:n,value:t}),!0);else{var d=t[h];"object"==typeof f&&null!=f&&"object"==typeof d&&null!=d?U(f,d,r,n+"/"+l(h),o):f!==d&&(!0,o&&r.push({op:"test",path:n+"/"+l(h),value:s(f)}),r.push({op:"replace",path:n+"/"+l(h),value:s(d)}))}}if(u||a.length!=i.length)for(p=0;p<a.length;p++){var h;c(e,h=a[p])||void 0===t[h]||r.push({op:"add",path:n+"/"+l(h),value:s(t[h])})}}}function K(e,t,r){void 0===r&&(r=!1);var n=[];return U(e,t,n,"",r),n}r.d(t,"b",(function(){return O})),r.d(t,"a",(function(){return P}));Object.assign({},n,o,{JsonPatchError:h,deepClone:s,escapePathComponent:l,unescapePathComponent:f})},function(e,t){e.exports=window.PropTypes},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return IdomDashComponent}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),idom_client_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var loc=window.location,wsProtocol;wsProtocol="https:"===loc.protocol?"wss:":"ws:";var baseWebSocketUrl=wsProtocol+"//"+loc.host+loc.pathname,baseHttpUrl=loc.protocol+"//"+loc.host+loc.pathname,IdomDashComponent=function(_Component){_inherits(IdomDashComponent,_Component);var _super=_createSuper(IdomDashComponent);function IdomDashComponent(e){var t;return _classCallCheck(this,IdomDashComponent),(t=_super.call(this,e)).mountPoint=react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef(),t}return _createClass(IdomDashComponent,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{ref:this.mountPoint})}},{key:"componentDidMount",value:function componentDidMount(){var _this2=this;eval("import('".concat(baseHttpUrl+this.props.clientModuleUrl,"')")).then((function(e){var t=new WebSocket(baseWebSocketUrl+"_idom/stream?view_id=".concat(_this2.props.viewId));e.mountLayout(_this2.mountPoint.current,(function(e){t.onmessage=function(t){var r=_slicedToArray(JSON.parse(t.data),2),n=r[0],o=r[1];e(n,o)}}),(function(e){t.send(JSON.stringify(e))}),baseHttpUrl)}))}}]),IdomDashComponent}(react__WEBPACK_IMPORTED_MODULE_0__.Component);IdomDashComponent.defaultProps={},IdomDashComponent.propTypes={viewId:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,clientModuleUrl:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,setProps:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func}},function(e,t){e.exports=window.ReactDOM},function(e,t,r){"use strict";var n=function(e,t,r,o){var a;t[0]=0;for(var i=1;i<t.length;i++){var u=t[i++],c=t[i]?(t[0]|=u?1:2,r[t[i++]]):t[++i];3===u?o[0]=c:4===u?o[1]=Object.assign(o[1]||{},c):5===u?(o[1]=o[1]||{})[t[++i]]=c:6===u?o[1][t[++i]]+=c+"":u?(a=e.apply(c,n(e,c,r,["",null])),o.push(a),c[0]?t[0]|=2:(t[i-2]=0,t[i]=a)):o.push(c)}return o},o=new Map;t.a=function(e){var t=o.get(this);return t||(t=new Map,o.set(this,t)),(t=n(this,t.get(e)||(t.set(e,t=function(e){for(var t,r,n=1,o="",a="",i=[0],u=function(e){1===n&&(e||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?i.push(0,e,o):3===n&&(e||o)?(i.push(3,e,o),n=2):2===n&&"..."===o&&e?i.push(4,e,0):2===n&&o&&!e?i.push(5,0,!0,o):n>=5&&((o||!e&&5===n)&&(i.push(n,0,o,r),n=6),e&&(i.push(n,e,0,r),n=6)),o=""},c=0;c<e.length;c++){c&&(1===n&&u(),u(c));for(var _=0;_<e[c].length;_++)t=e[c][_],1===n?"<"===t?(u(),i=[i],n=3):o+=t:4===n?"--"===o&&">"===t?(n=1,o=""):o=t+o[0]:a?t===a?a="":o+=t:'"'===t||"'"===t?a=t:">"===t?(u(),n=1):n&&("="===t?(n=5,r=o,o=""):"/"===t&&(n<5||">"===e[c][_+1])?(u(),3===n&&(i=i[0]),n=i,(i=i[0]).push(2,0,n),n=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(u(),n=2):o+=t),3===n&&"!--"===o&&(n=4,i=i[0])}return u(),i}(e)),t),arguments,[])).length>1?t:t[0]}},function(e,t,r){"use strict";const n={clipboard:e=>({clipboardData:e.clipboardData}),composition:e=>({data:e.data}),keyboard:e=>({altKey:e.altKey,charCode:e.charCode,ctrlKey:e.ctrlKey,key:e.key,keyCode:e.keyCode,locale:e.locale,location:e.location,metaKey:e.metaKey,repeat:e.repeat,shiftKey:e.shiftKey,which:e.which}),mouse:e=>({altKey:e.altKey,button:e.button,buttons:e.buttons,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY,shiftKey:e.shiftKey}),pointer:e=>({pointerId:e.pointerId,width:e.width,height:e.height,pressure:e.pressure,tiltX:e.tiltX,tiltY:e.tiltY,pointerType:e.pointerType,isPrimary:e.isPrimary}),touch:e=>({altKey:e.altKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey}),ui:e=>({detail:e.detail}),wheel:e=>({deltaMode:e.deltaMode,deltaX:e.deltaX,deltaY:e.deltaY,deltaZ:e.deltaZ}),animation:e=>({animationName:e.animationName,pseudoElement:e.pseudoElement,elapsedTime:e.elapsedTime}),transition:e=>({propertyName:e.propertyName,pseudoElement:e.pseudoElement,elapsedTime:e.elapsedTime})},o={clipboard:["copy","cut","paste"],composition:["compositionend","compositionstart","compositionupdate"],keyboard:["keydown","keypress","keyup"],mouse:["click","contextmenu","doubleclick","drag","dragend","dragenter","dragexit","dragleave","dragover","dragstart","drop","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup"],pointer:["pointerdown","pointermove","pointerup","pointercancel","gotpointercapture","lostpointercapture","pointerenter","pointerleave","pointerover","pointerout"],selection:["select"],touch:["touchcancel","touchend","touchmove","touchstart"],ui:["scroll"],wheel:["wheel"],animation:["animationstart","animationend","animationiteration"],transition:["transitionend"]},a={};Object.keys(o).forEach(e=>{o[e].forEach(t=>{a[t]=n[e]})}),t.a=function(e){const t={};return"value"in e.target&&(t.value=e.target.value),e.type in a&&Object.assign(t,a[e.type](e)),t}},function(e,t,r){"use strict";r.r(t);var n=r(3);r.d(t,"IdomDashComponent",(function(){return n.a}))},function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),react_dom__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__),htm__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),fast_json_patch__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_event_to_object__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6);const html=htm__WEBPACK_IMPORTED_MODULE_2__.a.bind(react__WEBPACK_IMPORTED_MODULE_0__.createElement),LayoutConfigContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({});function mountLayout(e,t,r,n){react_dom__WEBPACK_IMPORTED_MODULE_1__.render(html`
      <${Layout}
        saveUpdateHook=${t}
        sendEvent=${r}
        importSourceUrl=${n}
      />
    `,e)}function Layout({saveUpdateHook:e,sendEvent:t,importSourceUrl:r}){const[n,o]=useInplaceJsonPatch({});return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>e(o),[o]),n.tagName?html`
      <${LayoutConfigContext.Provider}
        value=${{sendEvent:t,importSourceUrl:r}}
      >
        <${Element} model=${n} />
      <//>
    `:html`<div />`}function Element({model:e}){return e.importSource?html`<${ImportedElement} model=${e} />`:html`<${StandardElement} model=${e} />`}function ImportedElement({model:e}){const t=react__WEBPACK_IMPORTED_MODULE_0__.useContext(LayoutConfigContext),r=useLazyModule(e.importSource.source,t.importSourceUrl);if(r){const n=getPathProperty(r,e.tagName),o=elementChildren(e),a=elementAttributes(e,t.sendEvent);return html`<${n} ...${a}>${o}<//>`}{const t=e.importSource.fallback;if(!t)return html`<div />`;switch(typeof t){case"object":return html`<${Element} model=${t} />`;case"string":return html`<div>${t}</div>`}}}function StandardElement({model:e}){const t=react__WEBPACK_IMPORTED_MODULE_0__.useContext(LayoutConfigContext),r=elementChildren(e),n=elementAttributes(e,t.sendEvent);return e.children&&e.children.length?html`<${e.tagName} ...${n}>${r}<//>`:html`<${e.tagName} ...${n} />`}function elementChildren(e){return e.children?e.children.map(e=>{switch(typeof e){case"object":return html`<${Element} model=${e} />`;case"string":return e}}):[]}function elementAttributes(e,t){const r=Object.assign({},e.attributes);return e.eventHandlers&&Object.keys(e.eventHandlers).forEach(n=>{const o=e.eventHandlers[n];r[n]=eventHandler(t,o)}),r}function eventHandler(e,t){return function(){const r=Array.from(arguments).map(e=>"object"==typeof e&&e.nativeEvent?(t.preventDefault&&e.preventDefault(),t.stopPropagation&&e.stopPropagation(),Object(_event_to_object__WEBPACK_IMPORTED_MODULE_4__.a)(e)):e);new Promise((n,o)=>{const a={data:r,target:t.target};e(a),n(a)})}}function useLazyModule(source,sourceUrlBase=""){const[module,setModule]=react__WEBPACK_IMPORTED_MODULE_0__.useState(null);return module||eval(`import("${joinUrl(sourceUrlBase,source)}")`).then(setModule),module}function getPathProperty(e,t){const r=t.split(".");let n=e[r.shift()];for(let e=0;e<r.length;e++)n=n[r[e]];return n}function useInplaceJsonPatch(e){const t=react__WEBPACK_IMPORTED_MODULE_0__.useRef(e),r=useForceUpdate(),n=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((e,n)=>{applyPatchInplace(t.current,e,n),r()},[t,r]);return[t.current,n]}function applyPatchInplace(e,t,r){t?fast_json_patch__WEBPACK_IMPORTED_MODULE_3__.a(e,[{op:"replace",path:t,value:fast_json_patch__WEBPACK_IMPORTED_MODULE_3__.a(fast_json_patch__WEBPACK_IMPORTED_MODULE_3__.b(e,t),r,!1,!1).newDocument}]):fast_json_patch__WEBPACK_IMPORTED_MODULE_3__.a(e,r)}function useForceUpdate(){const[,e]=react__WEBPACK_IMPORTED_MODULE_0__.useState();return react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>e({}),[])}function joinUrl(e,t){return t.startsWith("./")?(e.endsWith("/")?e.slice(0,-1):e)+t.slice(1):t}}]);
//# sourceMappingURL=idom_dash.min.js.map